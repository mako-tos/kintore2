# 機能仕様書: [機能名]

**機能ブランチ**: `[###-feature-name]`  
**作成日**: [DATE]  
**ステータス**: ドラフト  
**入力**: ユーザー説明: "$ARGUMENTS"

## 憲法準拠チェック (Constitution Compliance) ※必須

- **GATE:** このチェックは設計開始前に合格していること（フェーズ0前）
- [ ] 指定された技術スタックに適合していること（Node.js 22+, TypeScript, Next.js, Pure.css）
- [ ] データストアが明記されていること（Supabase推奨）
- [ ] シークレットが環境変数で管理される設計であること
- [ ] デプロイ対象プラットフォームが明記されていること（netlify）
- [ ] パフォーマンス目標（API応答<=500ms、FCP<=500ms）が要求・測定方法とともに明記されていること
- [ ] アクセシビリティ要件（色覚配慮、フォント: 游明朝/游ゴシック、日本語対応）が満たされていること
- [ ] テスト基準（テストカバレッジ80%等）が明記されていること

※ 違反がある場合は「複雑性の追跡」セクションで正当化してください。

## ユーザーシナリオとテスト *(必須)*

<!--
  重要: ユーザーストーリーは重要度順に優先順位付けされたユーザージャーニーとして記述してください。
  各ユーザーストーリー/ジャーニーは独立してテスト可能でなければなりません。
  つまり、1つのストーリーだけを実装しても、
  価値を提供できるMVP（Minimum Viable Product：実用最小限の製品）となるべきです。
  
  各ストーリーにP1、P2、P3などの優先度を割り当てます（P1が最重要）。
  各ストーリーは機能の独立した一部として考え、以下が可能であるべきです：
  - 独立して開発可能
  - 独立してテスト可能
  - 独立してデプロイ可能
  - ユーザーに独立してデモ可能
-->

### ユーザーストーリー1 - [簡単なタイトル] (優先度: P1)

[このユーザージャーニーを平易な言葉で説明]

**この優先度の理由**: [この優先度レベルの価値と理由を説明]

**独立したテスト**: [どのように独立してテストできるかを説明 - 例: "[特定のアクション]で完全にテスト可能で、[特定の価値]を提供する"]

**受け入れシナリオ**:

1. **前提条件** [初期状態]の時、**操作** [アクション]を行うと、**結果** [期待される結果]となる
2. **前提条件** [初期状態]の時、**操作** [アクション]を行うと、**結果** [期待される結果]となる

---

### ユーザーストーリー2 - [簡単なタイトル] (優先度: P2)

[このユーザージャーニーを平易な言葉で説明]

**この優先度の理由**: [この優先度レベルの価値と理由を説明]

**独立したテスト**: [どのように独立してテストできるかを説明]

**受け入れシナリオ**:

1. **前提条件** [初期状態]の時、**操作** [アクション]を行うと、**結果** [期待される結果]となる

---

### ユーザーストーリー3 - [簡単なタイトル] (優先度: P3)

[このユーザージャーニーを平易な言葉で説明]

**この優先度の理由**: [この優先度レベルの価値と理由を説明]

**独立したテスト**: [どのように独立してテストできるかを説明]

**受け入れシナリオ**:

1. **前提条件** [初期状態]の時、**操作** [アクション]を行うと、**結果** [期待される結果]となる

---

[必要に応じて、優先度を割り当てた追加のユーザーストーリーを追加]

### エッジケース

<!--
  要対応: このセクションの内容はプレースホルダーです。
  適切なエッジケースで置き換えてください。
-->

- [境界条件]の場合はどうなるか？
- システムは[エラーシナリオ]をどのように処理するか？

## 要件 *(必須)*

<!--
  要対応: このセクションの内容はプレースホルダーです。
  適切な機能要件で置き換えてください。
-->

### 機能要件

- **FR-001**: システムは [具体的な機能、例: "ユーザーがアカウントを作成できる"] ようにしなければならない
- **FR-002**: システムは [具体的な機能、例: "メールアドレスを検証する"] ようにしなければならない
- **FR-003**: ユーザーは [主要な操作、例: "パスワードをリセットする"] ことができなければならない
- **FR-004**: システムは [データ要件、例: "ユーザー設定を永続化する"] ようにしなければならない
- **FR-005**: システムは [動作、例: "すべてのセキュリティイベントを記録する"] ようにしなければならない

*不明確な要件のマーキング例:*

- **FR-006**: システムは [要明確化: 認証方法が未指定 - メール/パスワード、SSO、OAuth?] を介してユーザーを認証しなければならない
- **FR-007**: システムは [要明確化: 保持期間が未指定] の間ユーザーデータを保持しなければならない

### 主要エンティティ *(データを扱う機能の場合に含める)*

- **[エンティティ1]**: [何を表すか、実装を含まない主要な属性]
- **[エンティティ2]**: [何を表すか、他のエンティティとの関係]

## 成功基準 *(必須)*

<!--
  要対応: 測定可能な成功基準を定義してください。
  これらは技術に依存せず、測定可能でなければなりません。
-->

### 測定可能な成果

- **SC-001**: [測定可能な指標、例: "ユーザーが2分以内にアカウント作成を完了できる"]
- **SC-002**: [測定可能な指標、例: "システムが1000の同時ユーザーを劣化なく処理できる"]
- **SC-003**: [ユーザー満足度指標、例: "90%のユーザーが最初の試行で主要タスクを完了できる"]
- **SC-004**: [ビジネス指標、例: "[X]に関連するサポートチケットを50%削減する"]
