<!--
同期影響レポート
バージョン変更: 1.0.0 (新規作成)
変更された原則: 全て（新規作成）
追加されたセクション: 全て（新規作成）
削除されたセクション: なし
更新が必要なテンプレート: ✅ 全て更新済み
フォローアップTODO: なし
-->

# キントレ プロジェクト憲法

## 基本原則

### I. 効率的なワークアウト管理
筋力トレーニングのワークアウトプランを効率的に管理し、ユーザーの目標達成をサポートする。
- トレーニング記録は正確で一貫性のある形式で保存されなければならない
- ユーザーの進捗を可視化し、モチベーション維持に貢献する
- カスタマイズ可能なワークアウトプランを提供する

### II. ユーザビリティ重視
シンプルで直感的なインターフェースを通じて、すべてのユーザーが簡単に利用できる環境を提供する。
- 最小限のステップでトレーニング記録を入力できる
- 明確なナビゲーションとフィードバックを提供する
- アクセシビリティガイドラインに準拠する

### III. データ駆動の意思決定
ユーザーのトレーニングデータを分析し、効果的なワークアウト計画の立案をサポートする。
- トレーニング履歴の分析と可視化
- パフォーマンス指標の追跡と目標設定
- データに基づいた改善提案の提供

### IV. セキュリティとプライバシー
ユーザーの個人情報とトレーニングデータを適切に保護する。
- 個人情報の暗号化と安全な保管
- アクセス制御とデータ保護の徹底
- プライバシーポリシーの遵守

### V. 継続的な改善
ユーザーフィードバックとデータ分析に基づき、サービスを継続的に改善する。
- 定期的なユーザーフィードバックの収集と分析
- パフォーマンス最適化とバグ修正の迅速な実施
- 新機能の計画的な導入

### VI. アクセシビリティ要件
- **情報の視認性:** 色覚特性を持つユーザーにも配慮した十分なコントラスト比や、拡大してもレイアウトが崩れないこと。
- **理解のしやすさ:** 簡潔で分かりやすい言葉遣いや、レイアウト・ナビゲーションの一貫性。
- **言語:** 日本語のみ対応。

## 開発基準

### I. 技術スタックの指針
以下の技術スタックを原則として採用する。
- **フロントエンド:** `Node.js 22+`、`TypeScript`、`Next.js`を使用する。
- **スタイル:** `Pure.css`を使用する。fontは`游明朝`、`游ゴシック`を使用する。
- **バックエンド:** `Node.js 22+`、`TypeScript`、`Next.js`を使用する。
- **プラットフォーム:** `netlify`を採用し、運用コストを最小化する。
- **データストア:** `Supabase`に保存する
- **フレームワーク:** `git`を使用して`netlify`へのデプロイを行う
- **シークレット管理:** `環境変数`で管理する。

### II. 技術スタックのバージョン更新方針
- 基盤となる`Next.js`、`Pure.css`、`Supabase` は最新の1つ前の安定板を使用する。
- セキュリティパッチの提供が停止されたら`research.md`に記録し、バージョンアップを提案する。
- ライブラリのバージョンアップが必要な場合`research.md`に記録し、提案し自動で変更しない。

### III. パフォーマンス目標
- API応答時間を`500ms`以内とする。
- FCPは`500ms`以内とする。
- 改善にはCIで検証し`RUM`を使用する
- 改善が難しい場合は`research.md`に記録する。
- 必要以上のパフォーマンス改善をしない。

### IV. デプロイメントフロー
以下の流れでデプロイする
3回テスト実行に失敗した場合は問題点を`research.md`に記録して中断する。
1. 更新時はブランチを作成
2. 必要なテストを実装
3. テストに漏れがないか確認し、漏れがある場合は2に戻る
4. 更新を実装
5. テストを実施し全て失敗した場合は4に戻る
6. ブランチへcommit
7. ブランチをステージング環境へデプロイする
8. 統合テストを行い合格した場合は`main`へ`merge`する
9. `merge`完了後に本番環境へデプロイする

### コード品質
- テストカバレッジ80%以上を維持
- コードレビューの必須化
- 静的解析ツールの活用
- パフォーマンス指標の定期的なモニタリング

### ドキュメンテーション
- API仕様書の常時更新
- ユーザーガイドの整備
- 開発者ドキュメントの維持
- 変更履歴の明確な記録

## 開発ワークフロー

### プロセス
1. 機能要件の明確化とレビュー
2. 設計ドキュメントの作成
3. テストケースの作成
4. 実装とコードレビュー
5. テスト実行と品質確認
6. デプロイと監視

### レビュー基準
- セキュリティ要件の遵守
- パフォーマンス基準の達成
- コーディング規約への準拠
- ドキュメントの完備

## ガバナンス

本憲法はプロジェクトの最高指針として機能し、すべての開発活動はここに定められた原則に従わなければならない。

### 改定ルール
1. 改定提案は全チームメンバーが行うことができる
2. 改定には技術リーダーの承認が必要
3. 改定履歴は明確に記録し、影響範囲を文書化する
4. 重要な改定には移行計画の策定が必要

### コンプライアンス確認
- すべてのプルリクエストは本憲法への準拠を確認する
- 四半期ごとのコンプライアンス監査を実施
- 違反が発見された場合は即時是正する

**バージョン**: 1.0.0 | **制定日**: 2025-11-02 | **最終改定日**: 2025-11-02
