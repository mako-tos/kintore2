# 機能仕様書: トレーニングメニュー登録画面とトレーニング記録登録画面

**機能ブランチ**: `1-training-menu-record-form`
**作成日**: 2025-11-03
**ステータス**: Draft
**入力**: トレーニングメニュー登録画面とトレーニング記録登録画面作成

## ユーザーシナリオとテスト

### ユーザーストーリー1 - トレーニングメニュー登録
ユーザーは新しいトレーニングメニュー（例: スクワット、腕立て伏せなど）を登録できる。

## 機能要件
- メニュー名は必須入力
- 登録ボタン、キャンセルボタンを表示
- バリデーションエラーは画面上に分かりやすく表示

## 成功基準
- すべての必須項目を正しく入力した場合、登録が成功し一覧画面に遷移する
- 入力ミス時は即座にエラー表示される
- 画面遷移・操作が直感的である

## エッジケース
- 同じメニュー名の重複登録は禁止
- 通信失敗時はエラーメッセージを表示

**受け入れシナリオ**:
1. メニュー名を入力し登録ボタンを押すと、メニューが一覧に追加される
2. メニュー名が空の場合はエラー表示
3. 既存メニューと重複する名前の場合はエラー表示

### ユーザーストーリー2 - トレーニング記録登録
ユーザーは日々のトレーニング（例: スクワット 11回、腕立て伏せ 22回など）を登録できる。

**受け入れシナリオ**:
1. メニューを選択し、スタートボタンを押すとタイマーが起動し回数が1になる
2. スタートボタンを押すたびに回数が1増える
3. ストップボタンを押すとタイマーが停止する
4. 別のメニューを選択すると、現在の記録が自動保存され、新しいメニューの記録が開始される
5. 当日の記録一覧がログ表示に表示される

### エッジケース
- メニュー名が最大文字数（20文字）を超えた場合
- 記録登録時に存在しないメニューIDを指定した場合
- 通信失敗時はエラーメッセージを表示

## 機能要件
- メニュー登録時、メニュー名は必須・最大20文字・重複禁止
- 記録登録時、メニューID・回数は必須
- 回数は1以上の整数のみ許容
- 日付はシステム日付（当日）に固定
- 登録成功時は一覧に即時反映
- エラー時はユーザーに分かりやすいメッセージ表示

## 成功基準
- 95%以上の登録操作が3秒以内に完了する
- スタート/ストップ操作が直感的で迷わず使える
- 当日の記録が即座にログ表示に反映される
- 通信エラー時も適切なメッセージが表示される

## 主要エンティティ
- TrainingMenu: { id, name, status, createdAt }
- TrainingRecord: { id, trainingMenuId, trainingAt, count, createdAt }

## 仮定
- メニュー名の重複判定は完全一致
- 日付はYYYY-MM-DD形式で入力
- 登録画面はWeb UI（PC/スマホ両対応）
- バリデーションはフロントエンド・バックエンド両方で実施

## 依存関係
- トレーニングメニュー・記録の一覧表示機能
- ユーザー認証は不要（内部利用前提）

---
